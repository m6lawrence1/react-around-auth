{"version":3,"sources":["images/logo.svg","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/ImagePopup.js","utils/Api.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Login","props","emailRef","React","useRef","passwordRef","className","action","name","onSubmit","e","preventDefault","onSignin","email","current","value","password","noValidate","htmlFor","id","type","title","ref","placeholder","required","to","Register","onSignup","ProtectedRoute","component","exact","path","loggedIn","children","InfoToolTip","statusMessage","success","statusIcon","isOpen","onClick","evt","target","classList","contains","onClose","Header","src","headerLogo","alt","link","onLogout","description","CurrentUserContext","createContext","undefined","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","likesTotal","length","role","style","backgroundImage","onCardClick","stopPropagation","onCardDelete","onCardLike","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","index","key","Footer","PopupWithForm","popup","submitBtnText","ReactDOM","createPortal","document","getElementById","EditProfilePopup","useState","setName","setDescription","useEffect","onUpdateUser","minLength","maxLength","pattern","onChange","EditAvatarPopup","avatarLinkRef","onUpdateAvatar","AddPlacePopup","ConfirmationPopup","onConfirmation","confirmSelectedCard","ImagePopup","api","baseUrl","headers","this","Promise","all","getInitialCards","getUserProfile","fetch","then","res","ok","json","reject","status","catch","err","console","log","method","body","JSON","stringify","cardInfo","cardId","authorization","auth","_baseUrl","_headers","_checkServerResponse","token","Authorization","localStorage","getItem","withRouter","isInfoToolTipOpen","setIsInfoToolTipOpen","authSuccess","setAuthSuccess","setLoggedIn","userEmail","setUserEmail","history","useHistory","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","deletedCard","setDeletedCard","tokenCheck","checkUserValidity","data","push","closeAllPopups","window","removeEventListener","handleEscClose","userProfile","initialCards","forEach","Provider","loginUser","setItem","registerUser","removeItem","addEventListener","updateLike","newCard","newCards","c","setUserAvatar","setUserProfile","addCard","deleteCard","availableCards","filter","Boolean","location","hostname","match","render","StrictMode","basename","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.3c6d3360.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b797581b.svg\";","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Login(props) {\n  const emailRef = React.useRef();\n  const passwordRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onSignin({\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n    });\n\n    emailRef.current.value = \"\";\n    passwordRef.current.value = \"\";\n  }\n\n  return (\n    <section className=\"login\">\n      <div className=\"login__container\">\n        <h2 className=\"form__title\">Sign In</h2>\n        <form\n          action=\"#\"\n          className=\"form form_embedded\"\n          name=\"Sign In\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <label className=\"form__field\" htmlFor=\"email-input\">\n            <input\n              className=\"form__input form__input_type_email form__input_theme_dark\"\n              id=\"email-input\"\n              type=\"email\"\n              title=\"Email\"\n              name=\"email\"\n              ref={emailRef}\n              placeholder=\"Email\"\n              required\n            />\n            <span\n              className=\"form__input-error form__input-error_active\"\n              id=\"email-input-error\"\n            ></span>\n          </label>\n          <label className=\"form__field\" htmlFor=\"password-input\">\n            <input\n              className=\"form__input form__input_type_password form__input_theme_dark\"\n              id=\"password-input\"\n              type=\"password\"\n              title=\"Password\"\n              name=\"password\"\n              ref={passwordRef}\n              placeholder=\"Password\"\n              required\n            />\n            <span\n              className=\"form__input-error form__input-error_active\"\n              id=\"password-input-error\"\n            ></span>\n          </label>\n          <button\n            type=\"submit\"\n            className=\"form__submit-button form__submit-button_light\"\n          >\n            Log In\n          </button>\n        </form>\n        <Link to=\"/signup\" className=\"login__link\">\n          Not a member yet? Sign up here!\n        </Link>\n      </div>\n    </section>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const emailRef = React.useRef();\n  const passwordRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onSignup({\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n    });\n\n    emailRef.current.value = \"\";\n    passwordRef.current.value = \"\";\n  }\n\n  return (\n    <section className=\"login\">\n      <div className=\"login__container\">\n        <h2 className=\"form__title\">Sign Up</h2>\n        <form\n          action=\"#\"\n          className=\"form form_embedded\"\n          name=\"Sign Up\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <label className=\"form__field\" htmlFor=\"reg-email-input\">\n            <input\n              className=\"form__input form__input_type_email form__input_theme_dark\"\n              id=\"reg-email-input\"\n              type=\"email\"\n              title=\"Email\"\n              name=\"email\"\n              ref={emailRef}\n              placeholder=\"Email\"\n              required\n            />\n            <span\n              className=\"form__input-error form__input-error_active\"\n              id=\"email-input-error\"\n            ></span>\n          </label>\n          <label className=\"form__field\" htmlFor=\"reg-password-input\">\n            <input\n              className=\"form__input form__input_type_password form__input_theme_dark\"\n              id=\"reg-password-input\"\n              type=\"password\"\n              title=\"Password\"\n              name=\"password\"\n              ref={passwordRef}\n              placeholder=\"Password\"\n              required\n            />\n            <span\n              className=\"form__input-error form__input-error_active\"\n              id=\"password-input-error\"\n            ></span>\n          </label>\n          <button\n            type=\"submit\"\n            className=\"form__submit-button form__submit-button_light\"\n          >\n            Sign Up\n          </button>\n        </form>\n        <Link to=\"/signin\" className=\"login__link\">\n          Already a member? Log in here!\n        </Link>\n      </div>\n    </section>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route exact path={props.path}>\n      {() => (props.loggedIn ? props.children : <Redirect to=\"./signin\" />)}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\n\nfunction InfoToolTip(props) {\n  // Create a variables statuses\n  const statusMessage = props.success\n    ? \"Success! You have now been registered.\"\n    : \"Oops, something went wrong! Please try again.\";\n  const statusIcon = `${\n    props.success\n      ? \"popup__status-icon_type_success\"\n      : \"popup__status-icon_type_error\"\n  }`;\n\n  function handleOverlayClick(evt) {\n    if (evt.target.classList.contains(\"popup\")) {\n      props.onClose();\n    }\n  }\n\n  return (\n    <div\n      className={`popup popup_type_register ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n      onClick={handleOverlayClick}\n    >\n      <div className=\"popup__container popup__container_type_confirmation\">\n        <button\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <div className={`popup__status-icon ${statusIcon}`}></div>\n        <h2 className=\"popup__title\">{statusMessage}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","import React from \"react\";\nimport headerLogo from \"../images/logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={headerLogo} alt=\"Around logo\" />\n      <nav className=\"nav header__info header__info_status_logged-in\">\n        <p className=\"header__email\">{props.loggedIn ? props.email : \"\"}</p>\n        <Link\n          to={props.link.to}\n          className=\"header__link\"\n          onClick={props.onLogout ? props.onLogout : null}\n        >\n          {props.link.description}\n        </Link>\n      </nav>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nexport const CurrentUserContext = React.createContext(undefined);","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n    \n    // Checking if user is the owner of the current card\n    const isOwn = props.card.owner._id === currentUser._id;\n\n    // Creating a variable which is set in `className` for the delete button\n    const cardDeleteButtonClassName = (\n       `button button__delete ${isOwn ? '' : 'button__delete_hidden'}`\n    );\n    \n    // Check if the card was liked by the current user\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n    // Create a variable which you then set in `className` for the like button\n    const cardLikeButtonClassName = (`button button__like ${isLiked ? 'button__like_status_selected' : ''}`);\n    \n    const likesTotal = props.card.likes.length;\n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n    }\n    \n    function handleLikeClick(evt) {\n        evt.stopPropagation();\n        // Prevent the browser from navigating to the form address\n        evt.preventDefault();\n        // Pass card data of the managed components to the external handler\n        props.onCardLike(props.card);\n    }\n        \n    function handleCardDelete(evt) {\n        evt.stopPropagation();\n        // Prevent the browser from navigating to the form address\n        evt.preventDefault();\n        // Pass the card data of the managed components to the external handler\n        props.onCardDelete(props.card);\n    }\n\n    return (\n        <li className=\"element\">\n          <div className=\"element__image\" role=\"img\" style={{ backgroundImage: `url(${props.card.link})` }} onClick={handleCardClick}></div>\n            <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\n            <div className=\"element__group\">\n              <h2 className=\"element__title\">{props.card.name}</h2>\n              <div className=\"element__like-container\">\n                <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n              <div className=\"element__likes\">{likesTotal}</div>   \n            </div>\n          </div>\n        </li>\n    );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n    \n    return (\n        <main className=\"content\">\n          <section className=\"profile\">\n            <div className=\"profile__avatar-container\">\n              <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"profile avatar\"/>\n              <button className=\"button button__avatar\" onClick={props.onEditAvatar}></button>\n            </div>\n            <div className=\"profile__info\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <p className=\"profile__about-me\">{currentUser.about}</p>\n              <button className=\"button button__edit\" onClick={props.onEditProfile}></button>\n            </div>\n            <button className=\"button button__add\" onClick={props.onAddPlace}></button>    \n          </section>\n          <section className=\"elements\">\n            <ul className=\"elements__container\">\n              {props.cards.map((card, index) => (\n                <Card key={index} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\n                )\n              )}\n            </ul>\n          </section>\n        </main>\n      );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() { \n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Around The U.S.</p>  \n    </footer>\n  );\n}\n\nexport default Footer;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nfunction PopupWithForm(props) {\n  function handleOverlayClick(evt) {\n    if (evt.target.classList.contains(\"popup\")) {\n      props.onClose();\n    }\n  }\n\n  const popup = (\n    <div\n      onClick={handleOverlayClick}\n      className={`popup popup_type_${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div\n        className={`popup__container ${\n          props.name === \"delete\" ? \"popup__container_type_confirmation\" : \"\"\n        }`}\n      >\n        <button\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form\n          action=\"#\"\n          className=\"form\"\n          name={props.name}\n          onSubmit={props.onSubmit}\n          noValidate\n        >\n          {props.children}\n          <button type=\"submit\" className=\"form__submit-button\">\n            {props.submitBtnText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n  return ReactDOM.createPortal(popup, document.getElementById(\"root\"));\n}\n\nexport default PopupWithForm;\n","import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = useState();\n  const [description, setDescription] = useState();\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n    evt.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit Profile\"\n      submitBtnText=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <input\n          className=\"form__input form__input_type_name\"\n          id=\"name-input\"\n          type=\"text\"\n          title=\"Name\"\n          name=\"name\"\n          value={name}\n          placeholder=\"Name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          pattern=\"^[A-Za-z]+[A-Za-z -]{1,}\"\n          onChange={handleNameChange}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"name-input-error\"\n        ></span>\n      </label>\n      <label className=\"form__field\">\n        <input\n          className=\"form__input form__input_type_about\"\n          id=\"about-input\"\n          type=\"text\"\n          title=\"About Me\"\n          name=\"about\"\n          value={description}\n          placeholder=\"About Me\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          onChange={handleDescriptionChange}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"about-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarLinkRef = React.useRef();\n\n  function handleSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n    evt.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onUpdateAvatar({\n      avatar: avatarLinkRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Change profile picture\"\n      submitBtnText=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__field\" htmlFor=\"avatar-url-input\">\n        <input\n          className=\"form__input form__input_type_url\"\n          type=\"url\"\n          id=\"avatar-url-input\"\n          title=\"Image Link\"\n          name=\"link\"\n          placeholder=\"Image link\"\n          ref={avatarLinkRef}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"url-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const title = React.useRef();\n  const link = React.useRef();\n\n  function handleSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n    evt.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onAddPlace({\n      title: title.current.value,\n      link: link.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-place\"\n      title=\"New place\"\n      submitBtnText=\"Create\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__field\" htmlFor=\"title-input\">\n        <input\n          className=\"form__input form__input_type_place-title\"\n          id=\"title-input\"\n          type=\"text\"\n          title=\"Title\"\n          name=\"name\"\n          placeholder=\"Title\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          pattern=\"^[A-Za-z]+[A-Za-z -]{1,}\"\n          ref={title}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"title-input-error\"\n        ></span>\n      </label>\n      <label className=\"form__field\" htmlFor=\"place-url-input\">\n        <input\n          className=\"form__input form__input_type_url\"\n          type=\"url\"\n          id=\"url-input\"\n          title=\"Image Link\"\n          name=\"link\"\n          placeholder=\"Image link\"\n          ref={link}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"url-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmationPopup(props) {\n\n    function handleSubmit(evt) {\n        // Prevent the browser from navigating to the form address\n        evt.preventDefault();\n        // Pass the values of the managed components to the external handler\n        props.onConfirmation(props.confirmSelectedCard);\n    }\n    \n    return (\n        <PopupWithForm \n            name=\"delete\" \n            title=\"Are you sure?\"\n            submitBtnText=\"Yes\"\n            isOpen={props.isOpen} \n            onClose={props.onClose} \n            onSubmit={handleSubmit} \n            >\n        {props.card}\n        </PopupWithForm>\n    );\n\n}\n\nexport default ConfirmationPopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n    \n    function handleOverlayClick(evt) {\n        if (evt.target.classList.contains('popup')) {\n          props.onClose();\n        }\n      }\n\n    return (\n        <div className={`popup popup_type_image ${props.card ? 'popup_opened' : ''}`} onClick={handleOverlayClick}>\n          <div className=\"popup__container popup__container_type_image\">\n            <button className=\"popup__close-button\" onClick={props.onClose}></button>\n            <img className=\"popup__image\" src={props.card ? props.card.link : ''} alt={props.card ?  props.card.name : ''}/>\n            <p className=\"popup__image-label\">{props.card ? props.card.name : ''}</p>\n          </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;","class Api {\n  constructor({baseUrl, headers}) {\n    this.baseUrl = baseUrl;\n    this.headers = headers; \n  }\n    \n    getAppInfo(){\n        return Promise.all([this.getInitialCards(), this.getUserProfile()])\n    }\n    \n    getInitialCards() {\n        return fetch(`${this.baseUrl}/cards`, {\n            headers: this.headers\n        })\n            .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n                return Promise.reject(`Error: ${res.status}`);\n        })\n    }\n    \n    getUserProfile(){\n        return fetch(`${this.baseUrl}/users/me`, {\n            headers: this.headers\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n                return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    \n    setUserAvatar(avatar){\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\n            headers: this.headers,\n            method: \"PATCH\",\n            body: JSON.stringify(avatar)\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n                return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    \n    setUserProfile({name, about}) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            headers: this.headers,\n            method: \"PATCH\",\n            body: JSON.stringify({name, about})\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        }); \n    }\n    \n    addCard(cardInfo) {\n        return fetch(`${this.baseUrl}/cards`, {\n            headers: this.headers,\n            method: \"POST\",\n            body: JSON.stringify(cardInfo)\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        }); \n    }\n    \n    deleteCard(_id){\n        return fetch(`${this.baseUrl}/cards/${_id}`, {\n            headers: this.headers,\n            method: \"DELETE\"\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        }); \n    }\n    \n    updateLike(cardId, isLiked){\n        return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n            headers: this.headers,\n            method: isLiked ? 'PUT' : 'DELETE'\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        }); \n    }\n\n}\n\n//API \nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n  headers: {\n    authorization: \"59b76db9-8593-4042-9d89-647c9c96a94c\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n\nexport default api;\n\n\n","class Auth {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Err: ${res.status}`);\n  }\n\n  registerUser(email, password) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    }).then(this._checkServerResponse);\n  }\n\n  loginUser(email, password) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    }).then(this._checkServerResponse);\n  }\n\n  checkUserValidity(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n      },\n    }).then(this._checkServerResponse);\n  }\n}\n\nconst auth = new Auth({\n  baseUrl: \"https://register.nomoreparties.co\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default auth;\n","import React, { useState } from \"react\";\nimport { Route, Switch, useHistory, withRouter } from \"react-router-dom\";\nimport \"../index.css\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoToolTip from \"./InfoTooltip\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport auth from \"../utils/auth\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  // Login/Registration\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [authSuccess, setAuthSuccess] = useState(true);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState(null);\n  const history = useHistory();\n  // User Profile/Cards\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [deletedCard, setDeletedCard] = useState(null);\n\n  React.useEffect(() => {\n    api\n      .getUserProfile()\n      .then((userProfile) => {\n        setCurrentUser(userProfile);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((initialCards) => {\n        initialCards.forEach((card) => {\n          setCards([...initialCards, card]);\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(tokenCheck, []);\n\n  function tokenCheck() {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .checkUserValidity(token)\n        .then((res) => {\n          if (res && res.data) {\n            setLoggedIn(true);\n            setUserEmail(res.data.email);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n\n  function handleSignup({ email, password }) {\n    auth\n      .registerUser(email, password)\n      .then((res) => {\n        if (res && res.data) {\n          setIsInfoToolTipOpen(true);\n          setAuthSuccess(true);\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        setIsInfoToolTipOpen(true);\n        setAuthSuccess(false);\n      });\n  }\n\n  function handleSignin({ email, password }) {\n    auth\n      .loginUser(email, password)\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true);\n          localStorage.setItem(\"token\", data.token);\n          history.push(\"/\");\n          tokenCheck();\n        }\n      })\n      .catch((err) => {\n        setIsInfoToolTipOpen(true);\n        setAuthSuccess(false);\n      });\n  }\n\n  function handleLogout() {\n    setLoggedIn(false);\n    localStorage.removeItem(\"token\");\n    history.push(\"/signin\");\n  }\n\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Send a request to the API and getting the updated card data\n    api\n      .updateLike(card._id, !isLiked)\n      .then((newCard) => {\n        // Create a new array based on the existing one and putting a new card into it\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        // Update the state\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function handleDeleteClick(card) {\n    setDeletedCard(card);\n    setIsDeletePopupOpen(true);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function closeAllPopups() {\n    window.removeEventListener(\"keyup\", handleEscClose);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsDeletePopupOpen(false);\n    setSelectedCard(false);\n    setIsInfoToolTipOpen(false);\n  }\n\n  function handleEscClose(evt) {\n    if (evt.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .setUserAvatar({ avatar: avatar })\n      .then((userProfile) => {\n        setCurrentUser(userProfile);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUserProfile({ name: name, about: about })\n      .then((userProfile) => {\n        setCurrentUser(userProfile);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlace({ title, link }) {\n    api\n      .addCard({ name: title, link: link })\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(deletedCard) {\n    console.log(deletedCard);\n    api\n      .deleteCard(deletedCard._id)\n      .then(() => {\n        const availableCards = cards.filter(\n          (card) => card._id !== deletedCard._id\n        );\n        setCards(availableCards);\n        setIsDeletePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <>\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Switch>\n            <Route path=\"/signin\">\n              <Header\n                loggedIn={loggedIn}\n                email={userEmail}\n                link={{ description: \"Sign up\", to: \"/signup\" }}\n              />\n              <Login onSignin={handleSignin} />\n            </Route>\n            <Route path=\"/signup\">\n              <Header\n                loggedIn={loggedIn}\n                email={userEmail}\n                link={{ description: \"Log in\", to: \"/signin\" }}\n              />\n              <Register onSignup={handleSignup} />\n            </Route>\n            <ProtectedRoute path=\"/\" loggedIn={loggedIn}>\n              <Header\n                loggedIn={loggedIn}\n                email={userEmail}\n                link={{ description: \"Log out\", to: \"#\" }}\n                onLogout={handleLogout}\n              />\n              <Main\n                cards={cards}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteClick}\n              />\n            </ProtectedRoute>\n          </Switch>\n          <Footer />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <InfoToolTip\n            isOpen={isInfoToolTipOpen}\n            onClose={closeAllPopups}\n            success={authSuccess}\n          />\n          <ConfirmationPopup\n            isOpen={isDeletePopupOpen}\n            onClose={closeAllPopups}\n            onConfirmation={handleCardDelete}\n            confirmSelectedCard={deletedCard}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </>\n  );\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/react-around-auth\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}