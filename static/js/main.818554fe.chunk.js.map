{"version":3,"sources":["images/logo.svg","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/ImagePopup.js","utils/Api.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Login","props","emailRef","React","useRef","passwordRef","className","action","name","onSubmit","e","preventDefault","onSignin","email","current","value","password","noValidate","htmlFor","id","type","title","ref","placeholder","required","to","Register","onSignup","ProtectedRoute","component","exact","path","loggedIn","children","InfoToolTip","statusMessage","success","statusIcon","isOpen","onClick","onOverlayClick","onClose","Header","src","headerLogo","alt","link","onLogout","description","CurrentUserContext","createContext","undefined","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","likesTotal","length","role","style","backgroundImage","onCardClick","evt","stopPropagation","onCardDelete","onCardLike","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","index","key","Footer","PopupWithForm","popup","submitBtnText","ReactDOM","createPortal","document","getElementById","EditProfilePopup","useState","setName","setDescription","useEffect","onUpdateUser","minLength","maxLength","pattern","onChange","target","EditAvatarPopup","avatarLinkRef","onUpdateAvatar","AddPlacePopup","ConfirmationPopup","onConfirmation","confirmSelectedCard","ImagePopup","api","baseUrl","headers","this","Promise","all","getInitialCards","getUserProfile","fetch","then","res","ok","json","reject","status","catch","err","console","log","method","body","JSON","stringify","cardInfo","cardId","authorization","auth","_baseUrl","_headers","_checkServerResponse","token","Authorization","withRouter","isInfoToolTipOpen","setIsInfoToolTipOpen","authSuccess","setAuthSuccess","setLoggedIn","userEmail","setUserEmail","history","useHistory","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","deletedCard","setDeletedCard","tokenCheck","localStorage","getItem","checkUserValidity","data","push","closeAllPopups","window","removeEventListener","handleEscClose","handleOverlayClick","classList","contains","userProfile","cardList","initialCards","forEach","Provider","removeItem","addEventListener","updateLike","newCard","newCards","c","loginUser","setItem","registerUser","setUserAvatar","setUserProfile","addCard","deleteCard","availableCards","filter","Boolean","location","hostname","match","render","StrictMode","basename","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.818554fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b797581b.svg\";","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Login(props) {\n  const emailRef = React.useRef();\n  const passwordRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onSignin({\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n    });\n\n    emailRef.current.value = \"\";\n    passwordRef.current.value = \"\";\n  }\n\n  return (\n    <section className=\"login\">\n      <div className=\"login__container\">\n        <h2 className=\"form__title\">Sign In</h2>\n        <form\n          action=\"#\"\n          className=\"form form_embedded\"\n          name=\"Sign In\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <label className=\"form__field\" htmlFor=\"email-input\">\n            <input\n              className=\"form__input form__input_type_email form__input_theme_dark\"\n              id=\"email-input\"\n              type=\"email\"\n              title=\"Email\"\n              name=\"email\"\n              ref={emailRef}\n              placeholder=\"Email\"\n              required\n            />\n            <span\n              className=\"form__input-error form__input-error_active\"\n              id=\"email-input-error\"\n            ></span>\n          </label>\n          <label className=\"form__field\" htmlFor=\"password-input\">\n            <input\n              className=\"form__input form__input_type_password form__input_theme_dark\"\n              id=\"password-input\"\n              type=\"password\"\n              title=\"Password\"\n              name=\"password\"\n              ref={passwordRef}\n              placeholder=\"Password\"\n              required\n            />\n            <span\n              className=\"form__input-error form__input-error_active\"\n              id=\"password-input-error\"\n            ></span>\n          </label>\n          <button\n            type=\"submit\"\n            className=\"form__submit-button form__submit-button_light\"\n          >\n            Log In\n          </button>\n        </form>\n        <Link to=\"/signup\" className=\"login__link\">\n          Not a member yet? Sign up here!\n        </Link>\n      </div>\n    </section>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const emailRef = React.useRef();\n  const passwordRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onSignup({\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n    });\n\n    emailRef.current.value = \"\";\n    passwordRef.current.value = \"\";\n  }\n\n  return (\n    <section className=\"login\">\n      <div className=\"login__container\">\n        <h2 className=\"form__title\">Sign Up</h2>\n        <form\n          action=\"#\"\n          className=\"form form_embedded\"\n          name=\"Sign Up\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <label className=\"form__field\" htmlFor=\"reg-email-input\">\n            <input\n              className=\"form__input form__input_type_email form__input_theme_dark\"\n              id=\"reg-email-input\"\n              type=\"email\"\n              title=\"Email\"\n              name=\"email\"\n              ref={emailRef}\n              placeholder=\"Email\"\n              required\n            />\n            <span\n              className=\"form__input-error form__input-error_active\"\n              id=\"email-input-error\"\n            ></span>\n          </label>\n          <label className=\"form__field\" htmlFor=\"reg-password-input\">\n            <input\n              className=\"form__input form__input_type_password form__input_theme_dark\"\n              id=\"reg-password-input\"\n              type=\"password\"\n              title=\"Password\"\n              name=\"password\"\n              ref={passwordRef}\n              placeholder=\"Password\"\n              required\n            />\n            <span\n              className=\"form__input-error form__input-error_active\"\n              id=\"password-input-error\"\n            ></span>\n          </label>\n          <button\n            type=\"submit\"\n            className=\"form__submit-button form__submit-button_light\"\n          >\n            Sign Up\n          </button>\n        </form>\n        <Link to=\"/signin\" className=\"login__link\">\n          Already a member? Log in here!\n        </Link>\n      </div>\n    </section>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route exact path={props.path}>\n      {() => (props.loggedIn ? props.children : <Redirect to=\"./signin\" />)}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\n\nfunction InfoToolTip(props) {\n  // Create a variables statuses\n  const statusMessage = props.success\n    ? \"Success! You have now been registered.\"\n    : \"Oops, something went wrong! Please try again.\";\n  const statusIcon = `${\n    props.success\n      ? \"popup__status-icon_type_success\"\n      : \"popup__status-icon_type_error\"\n  }`;\n\n  return (\n    <div\n      className={`popup popup_type_register ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n      onClick={props.onOverlayClick}\n    >\n      <div className=\"popup__container popup__container_type_confirmation\">\n        <button\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <div className={`popup__status-icon ${statusIcon}`}></div>\n        <h2 className=\"popup__title\">{statusMessage}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","import React from \"react\";\nimport headerLogo from \"../images/logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={headerLogo} alt=\"Around logo\" />\n      <nav className=\"nav header__info header__info_status_logged-in\">\n        <p className=\"header__email\">{props.loggedIn ? props.email : \"\"}</p>\n        <Link\n          to={props.link.to}\n          className=\"header__link\"\n          onClick={props.onLogout ? props.onLogout : null}\n        >\n          {props.link.description}\n        </Link>\n      </nav>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nexport const CurrentUserContext = React.createContext(undefined);","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n    \n    // Checking if user is the owner of the current card\n    const isOwn = props.card.owner._id === currentUser._id;\n\n    // Creating a variable which is set in `className` for the delete button\n    const cardDeleteButtonClassName = (\n       `button button__delete ${isOwn ? '' : 'button__delete_hidden'}`\n    );\n    \n    // Check if the card was liked by the current user\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n    // Create a variable which you then set in `className` for the like button\n    const cardLikeButtonClassName = (`button button__like ${isLiked ? 'button__like_status_selected' : ''}`);\n    \n    const likesTotal = props.card.likes.length;\n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n    }\n    \n    function handleLikeClick(evt) {\n        evt.stopPropagation();\n        // Prevent the browser from navigating to the form address\n        evt.preventDefault();\n        // Pass card data of the managed components to the external handler\n        props.onCardLike(props.card);\n    }\n        \n    function handleCardDelete(evt) {\n        evt.stopPropagation();\n        // Prevent the browser from navigating to the form address\n        evt.preventDefault();\n        // Pass the card data of the managed components to the external handler\n        props.onCardDelete(props.card);\n    }\n\n    return (\n        <li className=\"element\">\n          <div className=\"element__image\" role=\"img\" style={{ backgroundImage: `url(${props.card.link})` }} onClick={handleCardClick}></div>\n            <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\n            <div className=\"element__group\">\n              <h2 className=\"element__title\">{props.card.name}</h2>\n              <div className=\"element__like-container\">\n                <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n              <div className=\"element__likes\">{likesTotal}</div>   \n            </div>\n          </div>\n        </li>\n    );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n    \n    return (\n        <main className=\"content\">\n          <section className=\"profile\">\n            <div className=\"profile__avatar-container\">\n              <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"profile avatar\"/>\n              <button className=\"button button__avatar\" onClick={props.onEditAvatar}></button>\n            </div>\n            <div className=\"profile__info\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <p className=\"profile__about-me\">{currentUser.about}</p>\n              <button className=\"button button__edit\" onClick={props.onEditProfile}></button>\n            </div>\n            <button className=\"button button__add\" onClick={props.onAddPlace}></button>    \n          </section>\n          <section className=\"elements\">\n            <ul className=\"elements__container\">\n              {props.cards.map((card, index) => (\n                <Card key={index} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\n                )\n              )}\n            </ul>\n          </section>\n        </main>\n      );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() { \n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Around The U.S.</p>  \n    </footer>\n  );\n}\n\nexport default Footer;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nfunction PopupWithForm(props) {\n  const popup = (\n    <div\n      onClick={props.onOverlayClick}\n      className={`popup popup_type_${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div\n        className={`popup__container ${\n          props.name === \"delete\" ? \"popup__container_type_confirmation\" : \"\"\n        }`}\n      >\n        <button\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form\n          action=\"#\"\n          className=\"form\"\n          name={props.name}\n          onSubmit={props.onSubmit}\n          noValidate\n        >\n          {props.children}\n          <button type=\"submit\" className=\"form__submit-button\">\n            {props.submitBtnText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n  return ReactDOM.createPortal(popup, document.getElementById(\"root\"));\n}\n\nexport default PopupWithForm;\n","import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = useState();\n  const [description, setDescription] = useState();\n\n  // After loading the current user from the API\n  // their data will be used in managed components.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n    evt.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Edit Profile\"\n      submitBtnText=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__field\">\n        <input\n          className=\"form__input form__input_type_name\"\n          id=\"name-input\"\n          type=\"text\"\n          title=\"Name\"\n          name=\"name\"\n          value={name}\n          placeholder=\"Name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          pattern=\"^[A-Za-z]+[A-Za-z -]{1,}\"\n          onChange={handleNameChange}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"name-input-error\"\n        ></span>\n      </label>\n      <label className=\"form__field\">\n        <input\n          className=\"form__input form__input_type_about\"\n          id=\"about-input\"\n          type=\"text\"\n          title=\"About Me\"\n          name=\"about\"\n          value={description}\n          placeholder=\"About Me\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          onChange={handleDescriptionChange}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"about-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarLinkRef = React.useRef();\n\n  function handleSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n    evt.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onUpdateAvatar({\n      avatar: avatarLinkRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Change profile picture\"\n      submitBtnText=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__field\" htmlFor=\"avatar-url-input\">\n        <input\n          className=\"form__input form__input_type_url\"\n          type=\"url\"\n          id=\"avatar-url-input\"\n          title=\"Image Link\"\n          name=\"link\"\n          placeholder=\"Image link\"\n          ref={avatarLinkRef}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"url-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const title = React.useRef();\n  const link = React.useRef();\n\n  function handleSubmit(evt) {\n    // Prevent the browser from navigating to the form address\n    evt.preventDefault();\n    // Pass the values of the managed components to the external handler\n    props.onAddPlace({\n      title: title.current.value,\n      link: link.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-place\"\n      title=\"New place\"\n      submitBtnText=\"Create\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__field\" htmlFor=\"title-input\">\n        <input\n          className=\"form__input form__input_type_place-title\"\n          id=\"title-input\"\n          type=\"text\"\n          title=\"Title\"\n          name=\"name\"\n          placeholder=\"Title\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          pattern=\"^[A-Za-z]+[A-Za-z -]{1,}\"\n          ref={title}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"title-input-error\"\n        ></span>\n      </label>\n      <label className=\"form__field\" htmlFor=\"place-url-input\">\n        <input\n          className=\"form__input form__input_type_url\"\n          type=\"url\"\n          id=\"url-input\"\n          title=\"Image Link\"\n          name=\"link\"\n          placeholder=\"Image link\"\n          ref={link}\n          required\n        />\n        <span\n          className=\"form__input-error form__input-error_active\"\n          id=\"url-input-error\"\n        ></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmationPopup(props) {\n\n    function handleSubmit(evt) {\n        // Prevent the browser from navigating to the form address\n        evt.preventDefault();\n        // Pass the values of the managed components to the external handler\n        props.onConfirmation(props.confirmSelectedCard);\n    }\n    \n    return (\n        <PopupWithForm \n            name=\"delete\" \n            title=\"Are you sure?\"\n            submitBtnText=\"Yes\"\n            isOpen={props.isOpen} \n            onClose={props.onClose} \n            onSubmit={handleSubmit} \n            >\n        {props.card}\n        </PopupWithForm>\n    );\n\n}\n\nexport default ConfirmationPopup;","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_image ${props.card ? \"popup_opened\" : \"\"}`}\n      onClick={props.onOverlayClick}\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <button\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          className=\"popup__image\"\n          src={props.card ? props.card.link : \"\"}\n          alt={props.card ? props.card.name : \"\"}\n        />\n        <p className=\"popup__image-label\">\n          {props.card ? props.card.name : \"\"}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({baseUrl, headers}) {\n    this.baseUrl = baseUrl;\n    this.headers = headers; \n  }\n    \n    getAppInfo(){\n        return Promise.all([this.getInitialCards(), this.getUserProfile()])\n    }\n    \n    getInitialCards() {\n        return fetch(`${this.baseUrl}/cards`, {\n            headers: this.headers\n        })\n            .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n                return Promise.reject(`Error: ${res.status}`);\n        })\n    }\n    \n    getUserProfile(){\n        return fetch(`${this.baseUrl}/users/me`, {\n            headers: this.headers\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n                return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    \n    setUserAvatar(avatar){\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\n            headers: this.headers,\n            method: \"PATCH\",\n            body: JSON.stringify(avatar)\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n                return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    \n    setUserProfile({name, about}) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            headers: this.headers,\n            method: \"PATCH\",\n            body: JSON.stringify({name, about})\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        }); \n    }\n    \n    addCard(cardInfo) {\n        return fetch(`${this.baseUrl}/cards`, {\n            headers: this.headers,\n            method: \"POST\",\n            body: JSON.stringify(cardInfo)\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        }); \n    }\n    \n    deleteCard(_id){\n        return fetch(`${this.baseUrl}/cards/${_id}`, {\n            headers: this.headers,\n            method: \"DELETE\"\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        }); \n    }\n    \n    updateLike(cardId, isLiked){\n        return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n            headers: this.headers,\n            method: isLiked ? 'PUT' : 'DELETE'\n        })\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(`Error: ${res.status}`);\n        })\n        .catch((err) => {\n          console.log(err);\n        }); \n    }\n\n}\n\n//API \nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n  headers: {\n    authorization: \"59b76db9-8593-4042-9d89-647c9c96a94c\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n\nexport default api;\n\n\n","class Auth {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Err: ${res.status}`);\n  }\n\n  registerUser(email, password) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    }).then(this._checkServerResponse);\n  }\n\n  loginUser(email, password) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    }).then(this._checkServerResponse);\n  }\n\n  checkUserValidity(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        ...this._headers,\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._checkServerResponse);\n  }\n}\n\nconst auth = new Auth({\n  baseUrl: \"https://register.nomoreparties.co\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default auth;\n","import React, { useState } from \"react\";\nimport {\n  Route,\n  Switch,\n  useHistory,\n  Redirect,\n  withRouter,\n} from \"react-router-dom\";\nimport \"../index.css\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoToolTip from \"./InfoTooltip\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport auth from \"../utils/auth\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  // Login/Registration\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [authSuccess, setAuthSuccess] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState(null);\n  const history = useHistory();\n  // User Profile/Cards\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [deletedCard, setDeletedCard] = useState(null);\n\n  React.useEffect(() => {\n    const userProfile = api\n      .getUserProfile()\n      .then((userProfile) => {\n        setCurrentUser(userProfile);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const cardList = api\n      .getInitialCards()\n      .then((initialCards) => {\n        initialCards.forEach((card) => {\n          setCards([...initialCards, card]);\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    if (localStorage.getItem(\"jwt\")) {\n      tokenCheck();\n    }\n    //I can still use promise.all right? you just wanted me to remove \"return\"?\n    Promise.all([userProfile, cardList]);\n  }, []);\n\n  React.useEffect(tokenCheck, []);\n\n  function tokenCheck() {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .checkUserValidity(token)\n        .then((res) => {\n          if (res && res.data) {\n            setLoggedIn(true);\n            setUserEmail(res.data.email);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n\n  function handleSignup({ email, password }) {\n    auth\n      .registerUser(email, password)\n      .then((res) => {\n        if (res && res.data) {\n          setIsInfoToolTipOpen(true);\n          setAuthSuccess(true);\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        setIsInfoToolTipOpen(true);\n        setAuthSuccess(false);\n      });\n  }\n\n  function handleSignin({ email, password }) {\n    auth\n      .loginUser(email, password)\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true);\n          localStorage.setItem(\"token\", data.token);\n          history.push(\"/\");\n          tokenCheck();\n        }\n      })\n      .catch((err) => {\n        setIsInfoToolTipOpen(true);\n        setAuthSuccess(false);\n      });\n  }\n\n  function handleLogout() {\n    setLoggedIn(false);\n    localStorage.removeItem(\"token\");\n    history.push(\"/signin\");\n  }\n\n  function handleCardLike(card) {\n    // Check one more time if this card was already liked\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Send a request to the API and getting the updated card data\n    api\n      .updateLike(card._id, !isLiked)\n      .then((newCard) => {\n        // Create a new array based on the existing one and putting a new card into it\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        // Update the state\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function handleDeleteClick(card) {\n    setDeletedCard(card);\n    setIsDeletePopupOpen(true);\n    window.addEventListener(\"keyup\", handleEscClose);\n  }\n  function closeAllPopups() {\n    window.removeEventListener(\"keyup\", handleEscClose);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsDeletePopupOpen(false);\n    setSelectedCard(false);\n    setIsInfoToolTipOpen(false);\n  }\n\n  function handleEscClose(evt) {\n    if (evt.key === \"Escape\") {\n      closeAllPopups();\n    }\n  }\n\n  function handleOverlayClick(evt) {\n    if (evt.target.classList.contains(\"popup\")) {\n      closeAllPopups();\n    }\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .setUserAvatar({ avatar: avatar })\n      .then((userProfile) => {\n        setCurrentUser(userProfile);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUserProfile({ name: name, about: about })\n      .then((userProfile) => {\n        setCurrentUser(userProfile);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlace({ title, link }) {\n    api\n      .addCard({ name: title, link: link })\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(deletedCard) {\n    api\n      .deleteCard(deletedCard._id)\n      .then(() => {\n        const availableCards = cards.filter(\n          (card) => card._id !== deletedCard._id\n        );\n        setCards(availableCards);\n        setIsDeletePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <>\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Switch>\n            <ProtectedRoute path=\"/\" exact loggedIn={loggedIn}>\n              <Header\n                loggedIn={loggedIn}\n                email={userEmail}\n                link={{ description: \"Log out\", to: \"#\" }}\n                onLogout={handleLogout}\n              />\n              <Main\n                cards={cards}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteClick}\n              />\n            </ProtectedRoute>\n            <Route path=\"/signin\">\n              <Header\n                loggedIn={loggedIn}\n                email={userEmail}\n                link={{ description: \"Sign up\", to: \"/signup\" }}\n              />\n              <Login onSignin={handleSignin} />\n            </Route>\n            <Route path=\"/signup\">\n              <Header\n                loggedIn={loggedIn}\n                email={userEmail}\n                link={{ description: \"Log in\", to: \"/signin\" }}\n              />\n              <Register onSignup={handleSignup} />\n            </Route>\n            <Route>\n              <Redirect to={loggedIn ? \"/\" : \"/signin\"} />\n            </Route>\n          </Switch>\n          <Footer />\n          <EditAvatarPopup\n            onOverlayClick={handleOverlayClick}\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <EditProfilePopup\n            onOverlayClick={handleOverlayClick}\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            onOverlayClick={handleOverlayClick}\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n          />\n          <ImagePopup\n            onOverlayClick={handleOverlayClick}\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n          <InfoToolTip\n            onOverlayClick={handleOverlayClick}\n            isOpen={isInfoToolTipOpen}\n            onClose={closeAllPopups}\n            success={authSuccess}\n          />\n          <ConfirmationPopup\n            onOverlayClick={handleOverlayClick}\n            isOpen={isDeletePopupOpen}\n            onClose={closeAllPopups}\n            onConfirmation={handleCardDelete}\n            confirmSelectedCard={deletedCard}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </>\n  );\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/react-around-auth\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}